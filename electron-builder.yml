appId: com.codinit.dev
productName: codinit-dev
directories:
  buildResources: build
  output: dist
files:
  - build/**/*
  - package.json
  - node_modules/**/*
  - "!node_modules/wrangler/**"
  - "!node_modules/miniflare/**"
  - "!node_modules/workerd/**"
  - "!node_modules/@cloudflare/**"
  - "!node_modules/typescript/**"
  - "!node_modules/prettier/**"
  - "!node_modules/vitest/**"
  - "!node_modules/@vitest/**"
  - "!node_modules/eslint/**"
  - "!node_modules/eslint-*/**"
  - "!node_modules/@eslint/**"
  - "!node_modules/playwright/**"
  - "!node_modules/playwright-core/**"
  - "!node_modules/@playwright/**"
  - "!node_modules/electron-builder/**"
  - "!node_modules/app-builder-bin/**"
  - "!node_modules/app-builder-lib/**"
  - "!node_modules/@electron/rebuild/**"
  - "!node_modules/@remix-run/dev/**"
  - "!node_modules/vite/**"
  - "!node_modules/rollup/**"
  - "!node_modules/esbuild/**"
  - "!node_modules/@esbuild/**"
  - "!node_modules/@types/**"
  - "!node_modules/sass/**"
  - "!node_modules/sass-embedded/**"
  - "!node_modules/sass-embedded-*/**"
  - icons/**
  - electron-update.yml
extraMetadata:
  main: build/electron/main/index.mjs
asarUnpack:
  - resources/**
  - electron-update.yml
  - "node_modules/**/build/Release/*.node"

mac:
  icon: assets/icons/icon.icns
  target:
    - dmg
  identity: null
  category: 'public.app-category.developer-tools'
  type: 'distribution'
  hardenedRuntime: true
  entitlements: 'assets/entitlements.mac.plist'
  entitlementsInherit: 'assets/entitlements.mac.plist'
  gatekeeperAssess: false
  artifactName: ${name}-${version}-${os}-${arch}.${ext}

win:
  icon: assets/icons/icon.ico
  target:
    - nsis
  artifactName: ${name}-${version}-${os}-${arch}.${ext}

linux:
  icon: assets/icons/icon.png
  target:
    - AppImage
    - deb
  artifactName: ${name}-${version}-${os}-${arch}.${ext}
  category: Development

nsis:
  oneClick: false
  allowToChangeInstallationDirectory: true
  createDesktopShortcut: true
  createStartMenuShortcut: true
  shortcutName: ${productName}
  artifactName: ${name}-${version}-${os}-${arch}-setup.${ext}

npmRebuild: false

publish:
  provider: github
  owner: codinit-dev
  repo: codinit-dev
  releaseType: release

electronDownload:
  mirror: https://npmmirror.com/mirrors/electron/
